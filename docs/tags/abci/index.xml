<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>abci on tsumli-pages</title>
    <link>https://tsumli.github.io/tags/abci/</link>
    <description>Recent content in abci on tsumli-pages</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <copyright>© {year}</copyright>
    <lastBuildDate>Mon, 01 Feb 2021 15:55:54 +0000</lastBuildDate><atom:link href="https://tsumli.github.io/tags/abci/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>自分的Singularityの使い方</title>
      <link>https://tsumli.github.io/blog/abci/singularity/</link>
      <pubDate>Mon, 01 Feb 2021 15:55:54 +0000</pubDate>
      
      <guid>https://tsumli.github.io/blog/abci/singularity/</guid>
      <description>Why Singularity? abciを使うときにdockerではなくsingularityを使う必要があったのですが、戸惑う部分が多かったので記録しておきます。 dockerはroot権限が奪取される可能性があるため、共用サーバなどではセキュリティの問題から使用できない場面が多いです。
How to use 今回扱うバージョンはsingularitypro/3.5です。
1. .def to .sif imageを作成するためのDefinition fileを作成します (詳細は公式ドキュメント ) 。
ubuntuのimageをもとにdefinition fileを作成しました (docker-compose.ymlを書くときのイメージですね) 。
Bootstrap: docker From: ubuntu %files requirements.txt %post apt update apt upgrade -y apt install -y python3 apt install -y python3-pip pip3 install -r requirements.txt %environment export LC_ALL=ja_JP.utf-8 export LANG=ja_JP.utf-8  2. build このファイルをfoo.defとして保存し、buildします。
singularity build --fakeroot foo.sif foo.def  3. run あとは、実行のためのシェルスクリプトを書いて完成です。
#!/bin/sh #$ -l rt_G.small=1 #$ -j y #$ -o fit/output/ #$ -cwd #$ -l h_rt=12:00:00 source /etc/profile.</description>
    </item>
    
  </channel>
</rss>
